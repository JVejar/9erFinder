<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Create Account</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://www.gstatic.com/firebasejs/3.5.0/firebase-app.js"></script>    
	<script src="https://www.gstatic.com/firebasejs/3.5.0/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.5.0/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.5.0/firebase-messaging.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.5.1/firebase.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script> 
	
	var config = {
	    apiKey: "AIzaSyAOLjx1vC8lOtWZopIaslI7Bfz1xTINlbE",
	    authDomain: "fir-tut-df4ee.firebaseapp.com",
	    databaseURL: "https://fir-tut-df4ee.firebaseio.com",
	    storageBucket: "fir-tut-df4ee.appspot.com",
	    messagingSenderId: "186990510180"
	 };
	 firebase.initializeApp(config);
	 var rootRef = firebase.database();

  //Function to login to firebase and check username and password
		function login() {
		  firebase.database().ref('users/').on('value', function (root) {
		    var users = root.val() //Store all the users in the variable
		    for (var i in users) { //LOop through the users
		      var user = users[i] //Set each user into user[i]
		      if(user.username == document.getElementById("name").value && user.password == document.getElementById("password").value){ //if the password and usernam matches return the callback to true
		      alert("works");
		        return;
		      }
		    }
		    alert("false");
		    callback(false)
		  })
			}
  
		//Add user to the database
		function writeUserData(userID) {
	  firebase.database().ref('users/' + document.getElementById("800number").value).set({
	    username : document.getElementById("email").value,
	    first_name: document.getElementById("first_name").value,
	    last_name: document.getElementById("last_name").value,
	    password : document.getElementById("password").value,
	    email : document.getElementById("email").value
			});
	    alert("Your Account has been created!")
		}//end of writeUserData
		//Works
		
		
		
//function test(){
//	alert(document.getElementById("name").value);
//}
	</script>
</head>

<body>

	<h2><a href="home.html"><img src="logo.png" height="45"> Niner Finder</a></h1>
	<banner><center><img src="background.jpeg" width="auto" ></center></banner>
	
	<table cellpadding="0px" cellspacing="40px">
		<!--This is the method that creates the USER-->
		<form  onsubmit="writeUserData(7)" action="profile.html" >
			<th colspan="2" bgcolor="#0c5622"><center><pagetitle>Create Account</pagetitle></center></th>
		
			<tr>
				<th align="left" >First Name:</th>
			    <td>
			    	<input type="text" name="first_name" placeholder="First Name" value = "" maxlength="30"  id ="first_name"
			    	<!--oninvalid="alert('First Name Field Mising');" -->
			    	<!--oninput="setCustomValidity('')" >-->
		    	</td>
			</tr>
			<tr>
				<th align="left">Last Name:</th>
			    <td>
			    	<input type="text" name="last_name" placeholder="Last Name" value = "" maxlength="30" id="last_name"
		    		<!--oninvalid="alert('Last Name Field Mising');" -->
			    	<!--oninput="setCustomValidity('')" >-->
		    	</td>
			</tr>
			<tr>
				<th align="left">800 Number:</th>
			    <td>
			    	<input type="text" name="800number" placeholder="800 Number" value = "" id="800number"
		    		<!--oninvalid="alert('Last Name Field Mising');" -->
			    	<!--oninput="setCustomValidity('')" >-->
		    	</td>
			</tr>
			<tr><th align="left">UNCC Email:</th>
			    <td><input type="email" name="uncc_email" placeholder="UNCC Email" value = ""  id = "email" ></td>
			</tr>
			<tr>
				<th align="left">Password:</th>
			    <td><input type="password" name="password" placeholder="Password" value = ""  id = "password" ></td>
			</tr>
			<tr>
			    <th align="left">Re-enter Password:</th>
			    <td><input type="password" name="verify_password" placeholder="Re-enter Password" value = "" ></td>
			</tr>
			
			
			<th><input type="checkbox" name="checkbox" value="check" id="agree"  /> I have read and agreed to the Terms &amp; Conditions Privacy Policy</th>
			
			
			<td><a href="profile.html"><input type="submit" name="submit" value="Submit" ></a></td>
		</form>
	</table>
  
  
  
  
  
  

	</body>
</html>

